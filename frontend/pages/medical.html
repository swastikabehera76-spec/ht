<div class="max-w-6xl mx-auto p-6">

  <!-- HEADER -->
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-3xl font-bold">Medical Records</h1>
    <a href="/home" data-link class="text-sm text-blue-600 hover:text-blue-800 underline">
      ‚Üê Back to Home
    </a>
  </div>

  <!-- ADD / EDIT MEDICAL CARD -->
  <div class="bg-white p-6 rounded-lg shadow mb-8">
    <h2 class="text-black font-semibold mb-4">Add / Edit Medical Record</h2>

    <form id="medicalForm" class="grid md:grid-cols-2 gap-4">

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">User ID</label>
        <input id="user_id" type="number" required
          class="w-full border border-gray-300 rounded-lg px-4 py-2
                 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black">
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Disease</label>
        <input id="disease" type="text" required
          class="w-full border border-gray-300 rounded-lg px-4 py-2
                 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black">
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Genetic Disease</label>
        <input id="genetic_disease" type="text"
          class="w-full border border-gray-300 rounded-lg px-4 py-2
                 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black">
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Allergies</label>
        <input id="allergies" type="text"
          class="w-full border border-gray-300 rounded-lg px-4 py-2
                 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black">
      </div>

      <!-- ACTION BUTTONS -->
      <div class="md:col-span-2 flex gap-3 mt-2">
        <button id="submitBtn" type="submit"
          class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition">
          Save Record
        </button>

        <button id="cancelBtn" type="button"
          class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium transition hidden">
          Cancel
        </button>
      </div>

    </form>
  </div>

  <!-- MEDICAL TABLE -->
  <div class="bg-white rounded-lg shadow overflow-hidden">

    <div class="px-6 py-4 border-b">
      <h2 class="text-black font-semibold">All Medical Records</h2>
    </div>

    <!-- LOADING -->
    <div id="loadingSpinner" class="text-center py-8">
      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"></div>
      <p class="text-gray-600 mt-2">Loading medical records...</p>
    </div>

    <!-- TABLE -->
    <div id="medicalTableContainer" class="hidden overflow-x-auto text-black">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-800 text-white">
          <tr>
            <th class="px-4 py-3 text-left text-xs font-medium uppercase">User ID</th>
            <th class="px-4 py-3 text-left text-xs font-medium uppercase">Disease</th>
            <th class="px-4 py-3 text-left text-xs font-medium uppercase">Genetic Disease</th>
            <th class="px-4 py-3 text-left text-xs font-medium uppercase">Allergies</th>
            <th class="px-4 py-3 text-left text-xs font-medium uppercase">Actions</th>
          </tr>
        </thead>

        <tbody id="medicalTableBody" class="bg-white divide-y divide-gray-200">
          <!-- JS rows -->
        </tbody>
      </table>

      <p id="noMedical" class="text-center text-gray-500 py-6 hidden">
        No medical records found.
      </p>
    </div>
  </div>

  <!-- ALERTS -->
  <div id="alertContainer" class="fixed top-4 right-4 space-y-2 z-50"></div>

</div>

<div class="max-w-6xl mx-auto p-6">

  <!-- HEADER -->
  <div
    class="flex items-center justify-between mb-8
           bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900
           p-6 rounded-2xl shadow-xl">
    <h1 class="text-4xl font-extrabold text-white tracking-tight">
      Health Profiles Report
    </h1>
    <a href="/home" data-link
      class="text-sm text-blue-400 hover:text-blue-300 underline">
      ‚Üê Back to Home
    </a>
  </div>

  <!-- CONTROLS CARD -->
  <div class="bg-white p-6 rounded-2xl shadow-lg mb-8">

    <div class="grid lg:grid-cols-4 gap-4 items-end">

      <!-- SEARCH -->
      <div class="lg:col-span-2">
        <label class="block text-sm font-semibold text-gray-700 mb-2">
          üîç Search
        </label>
        <input
          id="searchInput"
          type="text"
          placeholder="Search by User ID, Name, Disease..."
          class="w-full rounded-xl border border-gray-300 px-4 py-3
                 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"/>
      </div>

      <!-- SORT BY -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">
          üìä Sort By
        </label>
        <select id="sortBy"
          class="w-full rounded-xl border border-gray-300 px-4 py-3
                 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black">
          <option value="user_id">User ID</option>
          <option value="name">Name</option>
          <option value="age">Age</option>
          <option value="steps">Steps</option>
          <option value="calories_burned">Calories</option>
        </select>
      </div>

      <!-- SORT DIR -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">
          üîÉ Order
        </label>
        <select id="sortDir"
          class="w-full rounded-xl border border-gray-300 px-4 py-3
                 focus:outline-none focus:ring-2 focus:ring-blue-500 text-black">
          <option value="asc">Ascending</option>
          <option value="desc">Descending</option>
        </select>
      </div>

    </div>

    <!-- EXPORT + RESULT -->
    <div class="flex flex-wrap items-center justify-between mt-6 gap-3">

      <span id="resultCount" class="text-sm text-gray-500">
        Showing all records
      </span>

      <div class="flex gap-3">
        <button id="exportCsvBtn"
          class="bg-green-600 hover:bg-green-700 text-white
                 px-6 py-3 rounded-xl text-sm font-medium">
          ‚¨á Export CSV
        </button>

        <button id="exportPdfBtn"
          class="bg-red-600 hover:bg-red-700 text-white
                 px-6 py-3 rounded-xl text-sm font-medium">
          üìÑ Export PDF
        </button>
      </div>
    </div>

  </div>

  <!-- LOADING -->
  <div id="loadingSpinner" class="text-center py-10">
    <div class="animate-spin rounded-full h-10 w-10
                border-b-2 border-blue-600 mx-auto"></div>
    <p class="text-gray-600 mt-3">Loading report...</p>
  </div>

  <!-- REPORT TABLE -->
  <div id="reportTableContainer"
       class="bg-white rounded-2xl shadow-xl hidden overflow-x-auto">

    <div class="px-6 py-4 border-b">
      <h2 class="font-semibold text-black">
        Complete Health Overview
      </h2>
    </div>

    <table class="min-w-full divide-y divide-gray-200 text-black">
      <thead class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white">
        <tr>
          <th class="px-4 py-3 text-left text-xs uppercase">User ID</th>
          <th class="px-4 py-3 text-left text-xs uppercase">Name</th>
          <th class="px-4 py-3 text-left text-xs uppercase">Age</th>
          <th class="px-4 py-3 text-left text-xs uppercase">Height</th>
          <th class="px-4 py-3 text-left text-xs uppercase">Weight</th>
          <th class="px-4 py-3 text-left text-xs uppercase">Gender</th>
          <th class="px-4 py-3 text-left text-xs uppercase">Steps</th>
          <th class="px-4 py-3 text-left text-xs uppercase">Water</th>
          <th class="px-4 py-3 text-left text-xs uppercase">Calories</th>
          <th class="px-4 py-3 text-left text-xs uppercase">Disease</th>
          <th class="px-4 py-3 text-left text-xs uppercase">Genetic</th>
          <th class="px-4 py-3 text-left text-xs uppercase">Allergies</th>
        </tr>
      </thead>

      <tbody id="reportTableBody" class="divide-y divide-gray-200">
        <!-- JS rows -->
      </tbody>
    </table>

    <p id="noRows" class="text-center text-gray-500 py-8 hidden">
      No health records found.
    </p>

  </div>

</div>
